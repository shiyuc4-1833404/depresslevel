[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Caffiene Consumption and Depression",
    "section": "",
    "text": "1 Introduction\nAs one of the most prevalent mental illnesses today, depression affects a large number of people worldwide and is regarded as a primary care illness. According to research, one-third of American adults will experience depression at some point in their lives. The World Health Organization estimates that 350 million individuals worldwide suffer from depression. According to statistics from the US National Health and Nutrition Examination Survey (NHANES) study conducted between 2005 and 2008, the prevalence of severe depression and depressive symptoms was 0.6% and 22, respectively.\nStudies on the relationship between caffeine use and depression symptoms have been conducted recently. In terms of diet-related variables, coffee was discovered to be among the most consumed beverages globally. Caffeine use has been shown in several epidemiological studies to provide protection against cognitive decline or impairment. Caffeine and glucose together have been shown in another investigation to improve the attentional system’s effectiveness. It has been determined that caffeine affects depression.\nPrior research on this matter has failed to produce a consensus. Therefore, the purpose of this study was to further investigate the relationship between caffeine use and depression using data from the NHANES 2017–2020 database. Besides, we also want to know if there are other factors affecting depression. Thus, we also included the data of age, gender, income, race, and marital status from the NHANES 2017–2020 database to find the relationship between depression level and these variables."
  },
  {
    "objectID": "data.html#technical-description",
    "href": "data.html#technical-description",
    "title": "2  Data",
    "section": "2.1 Technical description",
    "text": "2.1 Technical description\nBelow are the three datasets that we propose to draw on for the project:\n1. Mental Health - Depression Screener\n2. Dietary Interview - Individual Foods, First Day\n3. Demographic Variables and Sample Weights\nAll of those datasets are downloaded from CDC National Health and Nutrition Examination Survey. The survey examines a nationally representative sample of about 5,000 people each year. The NHANES interview includes demographic, socioeconomic, dietary, and health-related questions.\nThis project was to examine the dataset from 2017 to 2020. There were about 15,560 participants providing demographic information, 12,632 participants who gave out reliable responses to inquiries about caffeine consumption, and 8,965 participants answered questions regarding depression. Participants’ depression levels were assessed using the 9-item Patient Health Questionnaire depression scale. For each symptom question, points are scored from 0 to 3, with 0 (not at all), 1 (several days), 2 (more than half the days), and 3 (nearly every day). The caffeine intake was collected in-person in the Mobile Examination Center of NHANES. Participants were asked to provide detailed dietary intake information during the 24-hr period prior to the interview. NHANES then calculated the energy and 64 nutrients (including caffeine) of each food using the USDA’s Food and Nutrient Database for Dietary Studies, and estimated participants’ caffeine intake. Demographic information is just registered when participants take the survey.\nSince the data are in the XPT (SAS file) format, we can use the haven package and the command read_xpt to import the data. In NHANES data, each sample person has a unique identifier called sequence number (SEQN). The next step is to merge three datasets by a unique identifier. However, the data file Dietary Interview - Individual Foods contains multiple records for each sample person and makes them not a unique identifier. Also, the number of participants who took the survey for caffeine consumption, demographic information, and depression are all different. When we merge data, this will cause the problem of missing data. The way to solve these issues will be described in the Research plan section."
  },
  {
    "objectID": "data.html#research-plan",
    "href": "data.html#research-plan",
    "title": "2  Data",
    "section": "2.2 Research plan",
    "text": "2.2 Research plan\nThe plan is divided into three parts: merging datasets, processing data, and using exploratory techniques to answer research questions.\n\n2.2.1 Merge Datasets\nAs the issue we mentioned in the above section, this problem is due to the investigation including the time of eating occasion for each person of the whole day ranging from 00:00 to 23:59. Since we only need to analyze caffeine, we can solve it by only keeping SEQN and caffeine intake columns for the Dietary dataset. Then, we can group the SEQN and sum up the caffeine intake of each participant from all time slots for the whole day. Now, we can merge three datasets together by SEQN.\n\n\n2.2.2 Process Data\nFor the Depression part of the merged dataset, participants are actually being asked 10 questions. Since the last question in the survey does not relate to depression symptoms over the past 2 weeks, we decided to delete that column. In order to analyze the depression level with different factors more easily, the scores are summed to a total score between 0 and 27. According to the criterion provided by the mental health professional interview, PHQ-9 scores of 5, 10, 15, and 20 represented mild, moderate, moderately severe, and severe depression, respectively. Since the number of participants in three dataset are different, there will be missing values in the merged dataset. We shall delete these data by using the command na.omit(). After processing the data, there are 6516 participants left.\n\n\n2.2.3 Use Exploratory Techniques\nOur main question is if depression level has any association with age, race, gender, income ratio, and caffeine consumption. So, our approach is to show the main distribution of each variables first. Then, we compare it with depression level. If the variable is numerical, then we are going to use parallel coordinate plot, histogram, and etc; otherwise, we are going to use mosaic plot, bar plot, and etc. Finally, we will use scatterplot matrix to see a clear relationship between all of those variables."
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.3 Missing value analysis",
    "text": "2.3 Missing value analysis\nMissing Pattern for Caffeine Dataset:\n\n\nCode\nlibrary(dplyr)\nlibrary(haven)\nlibrary(redav)\n# data &lt;- read_xpt(\"/Users/angelina/Documents/CU/23FALL/5702/Final Project/P_DR1IFF.XPT\")\ndata &lt;- read_xpt(\"/Users/shiyun/Desktop/P_DR1IFF.XPT\")\ndata2 &lt;- dplyr::select(data, SEQN, DR1ICAFF)\ndata2 &lt;- data2 |&gt;\n  group_by(SEQN) |&gt;\n  dplyr::summarise(CaffConsump = sum(DR1ICAFF))\nplot_missing(data2,percent=FALSE)\n\n\n\n\n\nSince the dietary dataset includes a total of 84 variables and we only need the factor caffeine intake, I just keep SEQN and caffeine columns to analyze the missing pattern. From the graph, we can see that no SEQN is missing. There are approximately 200 missing values for caffeine consumption.\nMissing Pattern for Depression Dataset:\n\n\nCode\ndepress &lt;- read_xpt(\"P_DPQ.XPT\")\ncolumns &lt;- colnames(depress)[2:11]\nmodified &lt;- substr(colnames(depress)[colnames(depress) %in% columns], 3, 6)\ncolnames(depress)[colnames(depress) %in% columns] &lt;- modified\nplot_missing(depress,percent=FALSE)\n\n\n\n\n\nFrom the graph, we can see that there is no missing value for SEQN. Question with code 100 has most missing values, which is over 2500. Question with code from 10 to 90 has approximately the similar number of missing values, which is around 400 to 500. For the missing pattern, we can see that the missing value always appeared in consecutive questions. There are over 5000 participants answer all ten questions; around 2500 participants who only does not answer Question with code 100; approximately 500 participants does not answer any of the question. Participants responded the survey starting from the question with code 010 to 100. For each of the rest four patterns: only 1 participant does not answer last two questions; 1 participant only answer the first question; 1 participant does not answer last 5 questions; and 1 participant only answer first three questions. Since the amount of people is too small, we cannot see clearly from the row count graph.\nMissing Pattern for Demographic Dataset:\n\n\nCode\ninfo &lt;- read_xpt(\"P_DEMO.XPT\")\noldname &lt;- c(\"RIAGENDR\", \"RIDAGEYR\", \"RIDRETH3\", \"INDFMPIR\")\nnewname &lt;- c(\"Gender\", \"Age\", \"Race\", \"Income\")\ninfo &lt;- dplyr::select(info, SEQN, RIAGENDR, RIDAGEYR, RIDRETH3,\n                      INDFMPIR)\nfor (i in 1:4) {\n  names(info)[names(info) == oldname[i]] &lt;- newname[i]\n}\nplot_missing(info,percent=FALSE)\n\n\n\n\n\nSince the demographic dataset includes a total of 29 variables and we only need the factor gender, income ratio, age, and race, I only keep those to analyze the missing pattern. From the graph, we can see that only income ratio is missing. There are approximately 2000 missing values for income ratio."
  },
  {
    "objectID": "results.html#comparing-scales-insights-into-low-and-high-caffeine-consumption",
    "href": "results.html#comparing-scales-insights-into-low-and-high-caffeine-consumption",
    "title": "3  Results",
    "section": "3.1 Comparing Scales: Insights into Low and High Caffeine Consumption",
    "text": "3.1 Comparing Scales: Insights into Low and High Caffeine Consumption\n\n\nCode\nlibrary(\"ggpubr\")\nhigh &lt;- ggplot(data=merged_info,aes(x = CaffConsump)) +\n  geom_histogram() +\n  xlim(200, 800) +\n  ylim(0,200) +\n  ggtitle(\"Histogram of Caffine Consumption Lower Part\") +\n  xlab(\"Caffine Consumption(mg)\")\nlow &lt;- ggplot(data=merged_info,aes(x = CaffConsump)) +\n  geom_histogram() +\n  xlim(800, max(merged_info$CaffConsump)) +\n  ylim(0,20) +\n  ggtitle(\"Histogram of Caffine Consumption Higher Part\") +\n  xlab(\"Caffine Consumption(mg)\")\nggarrange(high, low, ncol = 1, nrow = 2)\n\n\n\n\n\nFirst, let’s look at how much caffeine people in the study drink each day, measured in milligrams. We’ve split the chart into two parts to make it easier to see what’s going on. In the first chart, most people fall into the 200 to 400 milligram range. Then, the numbers spread out more evenly up to 600 milligrams. It’s important to note that the two charts use different scales on the vertical axis, which helps us understand both the lower and higher caffeine consumption levels. The lower levels have more people, while the higher levels have fewer. Also, in the first chart, the bars are all next to each other without any gaps, showing a continuous range of caffeine amounts. In the second chart, there are some gaps between the bars. This tells us that most people in the study have a caffeine intake of 200 to 800 milligrams a day, but a smaller group consumes a lot more, between 1000 to 4000 milligrams."
  },
  {
    "objectID": "results.html#investigating-the-main-trend-diverse-depression-levels-among-low-caffeine-drinkers",
    "href": "results.html#investigating-the-main-trend-diverse-depression-levels-among-low-caffeine-drinkers",
    "title": "3  Results",
    "section": "3.2 Investigating the Main Trend: Diverse Depression Levels Among Low Caffeine Drinkers",
    "text": "3.2 Investigating the Main Trend: Diverse Depression Levels Among Low Caffeine Drinkers\n\n\nCode\nggplot(merged_info) +\n  geom_hex(aes(x = CaffConsump, y = depressScore), bins = 10) +\n  labs(\n    title = \"Square Heatmap of Bin Counts\",\n    x = \"Caffeine Consumption\",\n    y = \"depressScore\")\n\n\n\n\n\nThough a lot of studies has suggested that there is a negative correlation between how much caffeine people drink and their levels of depression, from the chart we looked at, it seems like they don’t have such an association. For the caffeine consumption between 2000-4000 mg, they mostly have low depression scores, but this could be because there aren’t many people in the study who drink that much caffeine. When we look at those who drink less caffeine, which is where most of the study’s data is, the depression scores vary quite a bit. In particular, if you look at the lower left part of the chart, you’ll notice that many people who don’t drink much caffeine also report lower levels of depression."
  },
  {
    "objectID": "results.html#being-elder-doesnt-lead-to-higher-levels-of-depression",
    "href": "results.html#being-elder-doesnt-lead-to-higher-levels-of-depression",
    "title": "3  Results",
    "section": "3.3 Being elder doesn’t lead to higher levels of depression",
    "text": "3.3 Being elder doesn’t lead to higher levels of depression\n\n\nCode\nlibrary(GGally)\nggparcoord(data = merged_info, columns = c(12,15),alphaLines = 0.01) + ggtitle('Parallel Coordinates Plot')\n\n\n\n\n\nNow, let’s think about one question. With the increasing of age, will you have more and more things to worry about? People start to consider a lot of problems including income, marriage, and etc. Majority of the people may believe that there is a possible relationship between age and depression level. However, the result of the analysis really surprise everyone. From the above parallel coordinate plot, we can see that the lines are randomly crossing each other. We can hardly observe a clear pattern of positively or negatively correlated lines. Thus, what we see is that age and depression level are not highly correlated."
  },
  {
    "objectID": "results.html#an-overview-for-ratio-of-family-income-to-poverty",
    "href": "results.html#an-overview-for-ratio-of-family-income-to-poverty",
    "title": "3  Results",
    "section": "3.4 An overview for Ratio of Family income to Poverty",
    "text": "3.4 An overview for Ratio of Family income to Poverty\n\n\nCode\nggplot(merged_info, aes(Income)) +\n  geom_histogram(aes(y=after_stat(density)), color = \"blue\", \n                 fill = \"cornflowerblue\", alpha = 0.5) +\n  geom_density(lwd=1.25) +\n  labs(title = \"I/P Ratio Distribution\",\n       x = \"Ratio of family income to poverty\", y = \"Density\") +\n  theme_minimal()\n\n\n\n\n\nThe age factor really gave us an incredible result. How about income? Let’s explore how people’s levels of depression relate to their income ratio. We’ll start by looking at the spread of income ratios in our data.This ratio compares family income to the poverty level, with numbers close to 0 meaning less income and numbers close to 5 meaning more income. We used a type of chart called a density histogram to show this.It turns out that the highest bar on the chart is at an income ratio of 5. This happens because in our data, any income higher than 5 is just marked as 5. If we don’t focus too much on this part, we notice that the chart leans towards the right with a peak around 1. This tells us that a lot of the data is on the lower end of the income scale, indicating lower income levels. The way the chart stretches to the right shows that higher incomes are less common, with most of the data bunching up at the lower end."
  },
  {
    "objectID": "results.html#how-money-and-mood-connect-a-simple-look",
    "href": "results.html#how-money-and-mood-connect-a-simple-look",
    "title": "3  Results",
    "section": "3.5 How Money and Mood Connect: A Simple Look",
    "text": "3.5 How Money and Mood Connect: A Simple Look\n\n\nCode\nggplot(merged_info, aes(x=Income, y=depressLevel, fill = depressLevel)) + \n  geom_density_ridges(scale=0.75) +\n  geom_boxplot(width = 0.3, alpha = 0.7) +\n  theme(legend.position = \"none\") +\n  labs(title=\"I/P Ratio horizontal boxplots and ridgeline plots vs. Depression Level\",\n       x=\"I/P Ratio\", y = \"Depression Level\")\n\n\n\n\n\nAfter getting a broad overview of how income compares to the poverty line, we’re now zooming in to see how this income ratio varies among people with different levels of depression. We’re using two kinds of charts for this: boxplots and ridgeline plots.\nStarting with the boxplots, we notice that people with a remission (low) level of depression show the widest range of incomes. But for those with severe depression, the range of incomes is much narrower. Also, the boxplots tend to lean more towards the right as the depression gets more severe, and they shift towards lower incomes as the depression level increases.\nLooking at the ridgeline plots, there’s a clear change in how income is spread out. For lower levels of depression, the spread of income shows two peaks (this is called bimodal). But as depression becomes more severe, the pattern changes to a right-skewed distribution, meaning more people with severe depression have lower incomes.\nIn conclusion, what we see is that lower income tends to be linked with higher levels of depression. This result is quite making sense. When people have a lower income, they will feel anxious about house, food. They need to work harder to earn money, probably with multiple part-time jobs, so it is normal for them to have a high depression level."
  },
  {
    "objectID": "results.html#diving-into-demographics-race-and-gender-in-our-survey",
    "href": "results.html#diving-into-demographics-race-and-gender-in-our-survey",
    "title": "3  Results",
    "section": "3.6 Diving into Demographics: Race and Gender in Our Survey",
    "text": "3.6 Diving into Demographics: Race and Gender in Our Survey\n\n\nCode\nlibrary(forcats)\nggplot(merged_info, aes(x=fct_infreq(Race), fill = Gender)) + \n  geom_bar() +\n  ylab(\"Count\") +\n  xlab(\"Race\") +\n  ggtitle(\"Frequency of Race by Gender\")\n\n\n\n\n\nAfter dealing with income, age, and caffeine consumption factor. The social background for each race is different. Will people in one racial group has more tendency towards one depression level than the other? Let’s check out the race and gender of the people who answered our survey. We grouped races into five categories: White, Black, Hispanic, Asian, and Other. The ‘Other’ category includes people who identify with more than one race. Most of our survey participants are White, followed by Black, then Hispanic, and the smallest group is Asian. We can also note that within each racial group, the number of females and males is pretty much even, almost like a 50-50 split."
  },
  {
    "objectID": "results.html#combining-the-views-race-and-genders-role-in-depression",
    "href": "results.html#combining-the-views-race-and-genders-role-in-depression",
    "title": "3  Results",
    "section": "3.7 Combining the Views: Race and Gender’s Role in Depression",
    "text": "3.7 Combining the Views: Race and Gender’s Role in Depression\n\n\nCode\nlibrary(vcd)\nlibrary(vcdExtra)\nlibrary(RColorBrewer)\nlibrary(MASS)\ndf &lt;- subset(merged_info, Race %in% c(\"Asian\", \n                                      \"Black\",\n                                      \"Hispanic\",\n                                      \"White\"))\ndf &lt;- transform(df, depressLevel = factor(depressLevel,\n                                          levels = c(\"remission\", \"mild\",\n                                                     \"moderate\", \"moderately severe\",\n                                                     \"severe\")))\n\nmosaic(~depressLevel + Gender + Race,\n       labeling=vcd::labeling_border(rot_labels = c(0, 0, 30, 0),\n                                  labeling_args = list(cex = 1)),\n       main=\"Mosaic Plot of Gender, Race and Depression Level\",\n       data=df, direction=c(\"h\",\"v\",\"v\"),\n       spacing = spacing_dimequal(c(.4, .4, 0)),\n       rot_labels = 0,\n       highlighting = \"depressLevel\",\n       highlighting_fill = c(\"#EFF3FF\", \"#BDD7E7\", \"#6BAED6\", \"#3182BD\", \"#08519C\"))\n\n\n\n\n\nTo investigate the relationship between race, gender, and depression level, we will plot a mosaic graph since they are all categorical variables. From the above graph, we can see that the proportion of each depression level are similar for different race. What’s more, the total proportion of each depression level for male and female is also similar. Thus, we can hardly tell that there is a clear relationship between gender, race, and depression level."
  },
  {
    "objectID": "results.html#unraveling-the-mystery-age-money-and-caffeine-consumptions-role-in-depression",
    "href": "results.html#unraveling-the-mystery-age-money-and-caffeine-consumptions-role-in-depression",
    "title": "3  Results",
    "section": "3.8 Unraveling the Mystery: Age, Money, and Caffeine Consumption’s Role in Depression",
    "text": "3.8 Unraveling the Mystery: Age, Money, and Caffeine Consumption’s Role in Depression\n\n\nCode\nscatter_custom &lt;- function(data, mapping, ...) {\n  ggplot(data = data, mapping = mapping) +\n    geom_point(size = 0.5, alpha = 0.3) + \n    theme_minimal()\n}\n\nggpairs(merged_info, \n        columns = c(12, 2, 15, 17), \n        title = \"Scatter Plot Matrix for Dataset\",\n        upper = list(continuous = wrap(\"cor\", size = 4)),\n        lower = list(continuous = wrap(scatter_custom))\n)\n\n\n\n\n\nFinally, let’s dive into how people’s depression levels are connected to their age, income, and how much caffeine they drink. Put our focus to the top row of the above graph. What we find is that income, especially when compared to the poverty line, has the strongest link to depression scores. This suggests that wealthier people often have lower depression scores. On the other hand, a person’s age and the amount of caffeine they consume don’t seem to have a strong relationship with their depression score."
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "Bar Plot of lncome Ratio on Different Levels of Depression\n\n\n\n\n Remission Mild Moderate Moderately severe Severe"
  },
  {
    "objectID": "conclusion.html",
    "href": "conclusion.html",
    "title": "5  Conclusion",
    "section": "",
    "text": "Based on the analysis presented, we can draw several important conclusions:\n\nCaffeine Consumption and Depression: When it comes to how much caffeine we take every day and how we feel, the study finds that there isn’t a clear link. People who drink a lot of caffeine (like four to eight cups of coffee a day) generally seem feeling relatively relax, but this might be because there aren’t many people in the study who drink that much. For the majority who drink less, there’s no obvious pattern showing that caffeine affects their mood much.\nAge and Depression: You might think getting older would make people more prone to feeling down, but the study shows this isn’t necessarily true. When looking at participants’ ages compared to how they feel, the results are all over the place – there’s no obvious trend that being older means you’re more likely to feel depressed.\nIncome and Depression: Now, when it comes to money, there’s something interesting. The study finds that people with less money tend to feel more down. This was especially apparent when looking at how people’s income compared to the poverty line. People struggling financially often reported higher levels of depression, while those with more money generally felt better.\nDemographics - Race and Gender: The study had a mix of people from different backgrounds. Most were White, then Black, Hispanic, and a smaller number were Asian. Within these groups, the number of men and women was about even. However, when we look at their moods, the study found that race and whether someone is a man or woman didn’t make a big difference in how likely they were to feel depressed.\n\nIn summary, the study reveals insightful connections between depression levels and various factors such as income, but less so with age, caffeine consumption, race, and gender. The data suggests that socioeconomic factors like income play a more significant role in depression levels compared to demographic factors and coffeine consumption in this particular dataset."
  }
]